{"version":3,"sources":["utility.js","WithContext.js","Components/PieChart.js","Components/PriceList.js","Components/TotalPrice.js","Components/MonthPicker.js","Components/CreateBtn.js","Components/Tabs.js","Components/Loader.js","Containers/Home.js","Components/CategorySelect.js","Components/PriceForm.js","Containers/Create.js","App.js","serviceWorker.js","index.js"],"names":["TYPE_OUTCOME","padLeft","n","range","size","startAt","arguments","length","undefined","arr","i","parseToYearAndMonth","str","date","Date","year","getFullYear","month","getMonth","isValidDate","dateString","match","d","Number","isNaN","getTime","toISOString","slice","flatternArr","reduce","map","item","id","calculateID","Math","random","toString","substr","Colors","blue","deepBlue","green","red","gray","lightGray","white","withContext","Component","props","react_default","a","createElement","AppContext","Consumer","_ref","state","actions","Object","assign","data","ColorArr","keys","key","CustomedPieChart","title","categoryData","className","es6","width","height","isAnimationActive","dataKey","cx","cy","outerRadius","fill","entry","index","PriceList","items","onModifyItem","onDeleteItem","lib_default","fontSize","style","backgroundColor","padding","color","icon","category","iconName","type","price","href","onClick","defaultProps","TotalPrice","income","outcome","MonthPicker","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleClick","event","node","contains","target","setState","isOpen","toggleDropdown","preventDefault","selectYear","yearNumber","selectedYear","selectMonth","monthNumber","selectedMonth","onChange","document","addEventListener","removeEventListener","_this2","originYear","monthRange","yearRange","number","ref","concat","display","role","aria-labelledby","React","propsTypes","PropTypes","isRequired","func","CreateBtn","e","Tabs","_React$Component","tabChange","activeIndex","onTabChange","activeClassName","inherits","createClass","value","children","Children","child","Tab","Fragment","Loader","rotate","tabsText","generateChartDataByGategory","categoryMap","filter","forEach","cid","push","name","mapKey","objectSpread","Home","changeView","tabView","changeDate","selectNewDate","modifyItem","modifiedItem","history","createItem","deleteItem","deletedItem","getInitalData","categories","currentDate","isLoading","itemsWithCategory","chartOutcomeDataByCategory","chartIncomeDataByCategory","tabIndex","findIndex","tabText","totalIncome","totalOutcome","background","Components_MonthPicker","Components_TotalPrice","Tabs_Tabs","Tabs_Tab","Components_CreateBtn","Components_Loader","Components_PriceList","PieChart","withRouter","CategorySelect","selectCategory","onSelectCategory","_this$props","selectedCategory","selectedCategoryId","backColor","textDecoration","PriceForm","submitForm","onFormSubmit","editMode","priceInput","trim","titleInput","dateInput","validatePass","errorMessage","console","log","onSubmit","noValidate","htmlFor","defaultValue","input","placeholder","onCancelSubmit","Create","selectedTab","cancelSubmit","formSubmit","isEditMode","updateItem","validePass","editItem","params","getEditData","then","_this3","text","filterCategories","Components_CategorySelect","Components_PriceForm","createContext","App","withLoading","cb","apply","getURLWithDate","promiseArr","axios","get","Promise","all","_arr","slicedToArray","asyncToGenerator","regenerator_default","mark","_callee","_this$state","itemAlreadyFetched","getURLWithID","_ref2","_ref3","fetchedCategories","finalCategories","finalItem","wrap","_context","prev","next","indexOf","sent","abrupt","stop","_x","delete","categoryId","newId","parsedDate","monthCategory","timestamp","newItem","post","updatedCategoryId","patch","Provider","BrowserRouter","Route","path","exact","component","Boolean","window","location","hostname","response","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.0a6f0daf.chunk.js","sourcesContent":["export const LIST_VIEW='list';\r\nexport const CHART_VIEW='chart';\r\nexport const TYPE_INCOME='income';\r\nexport const TYPE_OUTCOME='outcome';\r\n\r\nexport const padLeft=(n)=>{\r\n\treturn n<10? '0'+n:n\r\n};\r\n\r\nexport const range=(size, startAt=0)=>{\r\n\tconst arr=[];\r\n\tfor (let i=0;i<size;i++){\r\n\t\tarr[i]=startAt+i;\r\n\t}\r\n\treturn arr\r\n};\r\n\r\nexport const parseToYearAndMonth=(str)=>{\r\n    const date=str?new Date(str):new Date();\r\n    return {\r\n    \tyear:date.getFullYear(),\r\n\t\tmonth:padLeft(date.getMonth()+1),\r\n\t}\r\n};\r\n\r\nexport const isValidDate = (dateString) => {\r\n\tconst regEx = /^\\d{4}-\\d{2}-\\d{2}$/;\r\n\tif(!dateString.match(regEx)) return false;  // Invalid format\r\n\tconst d = new Date(dateString);\r\n\tif(Number.isNaN(d.getTime())) return false; // Invalid date\r\n\treturn d.toISOString().slice(0,10) === dateString;\r\n};\r\n\r\nexport const flatternArr=(arr)=>{\r\n\treturn arr.reduce((map,item)=>{\r\n\t\tmap[item.id]=item;\r\n\t\treturn map;\r\n\t},{})\r\n};\r\n\r\nexport const calculateID = () => {\r\n\t// Math.random should be unique because of its seeding algorithm.\r\n\t// Convert it to base 36 (numbers + letters), and grab the first 9 characters\r\n\t// after the decimal.\r\n\treturn '_' + Math.random().toString(36).substr(2, 9);\r\n};\r\n\r\nexport const Colors = {\r\n\tblue: '#347eff',\r\n\tdeepBlue: '#61dafb',\r\n\tgreen: '#28a745',\r\n\tred: '#dc3545',\r\n\tgray: '#555',\r\n\tlightGray: '#efefef',\r\n\twhite: '#fff',\r\n}","import React from 'react';\r\nimport {AppContext} from \"./App\";\r\n\r\nconst withContext=(Component)=>{\r\n\treturn(props)=>(\r\n\t\t<AppContext.Consumer>\r\n\t\t\t{({state,actions})=>{\r\n\t\t\t\treturn <Component {...props} data={state} actions={actions}/>\r\n\t\t\t}}\r\n\t\t</AppContext.Consumer>\r\n\t\t)\r\n};\r\n\r\nexport default withContext","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Tooltip, PieChart, Pie, Cell, ResponsiveContainer} from \"recharts\";\r\nimport {Colors} from \"../utility\";\r\n\r\nconst ColorArr=Object.keys(Colors).map(key=>Colors[key]);\r\n\r\nconst CustomedPieChart=({title,categoryData})=>{\r\n    if (categoryData.length===0){\r\n    \treturn <h6 className=\"text-center mt-3\">{title}还没有任何数据</h6>\r\n\t} else {\r\n    \treturn (\r\n    \t\t<div className=\"pie-chart-com\">\r\n\t\t\t\t<h6 className=\"text-center mt-3\">{title}</h6>\r\n\t\t\t\t<ResponsiveContainer width={'100%'} height={300}>\r\n\t\t\t\t\t<PieChart>\r\n\t\t\t\t\t\t<Pie isAnimationActive={false}\r\n\t\t\t\t\t\t\t data={categoryData}\r\n\t\t\t\t\t\t\t dataKey=\"value\"\r\n\t\t\t\t\t\t\t cx={'50%'}\r\n\t\t\t\t\t\t\t cy={\"50%\"}\r\n\t\t\t\t\t\t\t outerRadius={100}\r\n\t\t\t\t\t\t\t fill={Colors.blue}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcategoryData.map((entry,index)=>\r\n\t\t\t\t\t\t\t\t\t<Cell key={index} fill={ColorArr[index%ColorArr.length]}/>)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Pie>\r\n\t\t\t\t\t\t<Tooltip/>\r\n\t\t\t\t\t</PieChart>\r\n\t\t\t\t</ResponsiveContainer>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n};\r\n\r\nCustomedPieChart.propTypes = {\r\n\ttitle: PropTypes.string,\r\n\tcategoryData: PropTypes.array\r\n};\r\n\r\nexport default CustomedPieChart\r\n","import React from 'react';\r\nimport Ionicon from 'react-ionicons';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst PriceList=({items,onModifyItem,onDeleteItem})=>{\r\n\treturn (\r\n\t\t<ul className=\"my-2 p-0\">\r\n\t\t\t{\r\n\t\t\t\titems.map((item)=>(\r\n\t\t\t\t\t<li className=\"list-group-item d-flex\r\n\t\t\t\t\t    justify-content-between align-items-center\"\r\n\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className=\"col-1\">\r\n\t\t\t\t\t\t\t<Ionicon\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-circle\"\r\n\t\t\t\t\t\t\t\tfontSize=\"30px\"\r\n\t\t\t\t\t\t\t\tstyle={{backgroundColor:'#007bff',padding:'3px'}}\r\n\t\t\t\t\t\t\t\tcolor={'#fff'}\r\n\t\t\t\t\t\t\t\ticon={item.category.iconName}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"col-5\">\r\n\t\t\t\t\t\t\t{item.title}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"col-2 font-weight-bold\">\r\n\t\t\t\t\t\t\t{(item.category.type===\"income\")?'+':'-'}\r\n\t\t\t\t\t\t\t{item.price}元\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"col-2\">\r\n\t\t\t\t\t\t\t{item.date}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\tclassName=\"col-1\"\r\n\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\tonClick={()=>{onModifyItem(item)}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Ionicon\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-circle\"\r\n\t\t\t\t\t\t\t\tfontSize=\"30px\"\r\n\t\t\t\t\t\t\t\tstyle={{backgroundColor:'#28a745',padding:'3px'}}\r\n\t\t\t\t\t\t\t\tcolor={'#fff'}\r\n\t\t\t\t\t\t\t\ticon='ios-create-outline'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\tclassName=\"col-1\"\r\n\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\tonClick={()=>{onDeleteItem(item)}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Ionicon\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-circle\"\r\n\t\t\t\t\t\t\t\tfontSize=\"30px\"\r\n\t\t\t\t\t\t\t\tstyle={{backgroundColor:'#dc3545',padding:'1px'}}\r\n\t\t\t\t\t\t\t\tcolor={'#fff'}\r\n\t\t\t\t\t\t\t\ticon='ios-close'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))\r\n\t\t\t}\r\n\r\n\t\t</ul>\r\n\t)\r\n};\r\n\r\nPriceList.propTypes={\r\n    items:PropTypes.array.isRequired,\r\n\tonModifyItem:PropTypes.func.isRequired,\r\n\tonDeleteItem:PropTypes.func.isRequired,\r\n};\r\n\r\nPriceList.defaultProps={\r\n\tonModifyItem:()=>{}\r\n};\r\n\r\nexport default PriceList","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst TotalPrice=({income,outcome})=>{\r\n    return (\r\n    \t<div className=\"total-price-com text-left pr-3\" style={{color:'#fff'}}>\r\n\t\t\t<div className=\"outcome mb-1\">\r\n\t\t\t\t总支出：\r\n\t\t\t\t<span className=\"font-weight-bold\">{outcome}</span>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"income\">\r\n\t\t\t\t总收入：\r\n\t\t\t\t<span className=\"font-weight-bold\">{income}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nTotalPrice.propTypes={\r\n\tincome:PropTypes.number.isRequired,\r\n\toutcome:PropTypes.number.isRequired,\r\n};\r\nexport default TotalPrice;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {padLeft,range} from \"../utility\";\r\n\r\nclass MonthPicker extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\tisOpen:false,\r\n\t\t\tselectedYear:this.props.year,\r\n\t\t\tselectedMonth:this.props.month\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tdocument.addEventListener('click',this.handleClick,false);\r\n\t};\r\n    componentWillUnmount() {\r\n\t\tdocument.removeEventListener('click',this.handleClick,false);\r\n\t};\r\n    handleClick=(event)=>{\r\n\t    if(this.node.contains(event.target)){\r\n\t    \treturn;\r\n\t\t}\r\n\t    this.setState({\r\n\t\t\tisOpen:false,\r\n\t\t});\r\n\t};\r\n\ttoggleDropdown=(event)=>{\r\n\t    event.preventDefault();\r\n\t    this.setState({\r\n\t\t\tisOpen:!this.state.isOpen\r\n\t\t});\r\n\t};\r\n\tselectYear=(event,yearNumber)=>{\r\n        event.preventDefault();\r\n        this.setState({\r\n\t\t\tselectedYear:yearNumber,\r\n\t\t});\r\n\t};\r\n\tselectMonth=(event,monthNumber)=>{\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({\r\n\t\t\tisOpen:false,\r\n\t\t\tselectedMonth:monthNumber\r\n\t\t});\r\n\t\tthis.props.onChange(this.state.selectedYear,monthNumber);\r\n\t};\r\n\trender(){\r\n\t\tconst originYear=this.props.year;\r\n\t\tconst year=this.state.selectedYear;\r\n\t\tconst month=this.state.selectedMonth;\r\n\t\tconst isOpen=this.state.isOpen;\r\n\t\tconst monthRange=range(12,1).map(month=>padLeft(month));\r\n\t\tconst yearRange=range(9,-4).map(number=>number+originYear);\r\n\t\tconst selectedYear=this.state.selectedYear;\r\n\t\treturn (\r\n\t\t\t<div className=\"month-picker-com dropdown text-left\" ref={(ref)=>{this.node=ref}}>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"btn btn-lg btn-light dropdown-toggle\"\r\n\t\t\t\t\tid=\"month-picker-dropdown-btn\"\r\n\t\t\t\t\tonClick={this.toggleDropdown}\r\n\t\t\t\t>\r\n\t\t\t\t\t{`${year}年 ${month}月`}\r\n\t\t\t\t</button>\r\n\t\t\t\t{ isOpen &&\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"dropdown-menu\"\r\n\t\t\t\t\t\tstyle={{display:'block'}}\r\n\t\t\t\t\t\trole=\"menu\"\r\n\t\t\t\t\t\taria-labelledby=\"month-picker-dropdown-btn\"\r\n\t\t\t\t\t>\r\n                        <div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"years-range col border-right\">\r\n\t\t\t\t\t\t\t\t{yearRange.map((yearNumber,index)=>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={(yearNumber===selectedYear)?\"dropdown-item active\":\"dropdown-item\"}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(event)=>this.selectYear(event,yearNumber)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{yearNumber}年\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"month-range col\">\r\n\t\t\t\t\t\t\t\t{monthRange.map((monthNumber,index)=>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={(monthNumber===month)?\"dropdown-item active\":\"dropdown-item\"}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(event)=>{this.selectMonth(event,monthNumber)}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{monthNumber}月\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nMonthPicker.propsTypes={\r\n\tyear:PropTypes.number.isRequired,\r\n\tmonth:PropTypes.number.isRequired,\r\n\tonChange:PropTypes.func.isRequired,\r\n}\r\n\r\nexport default MonthPicker;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Ionicon from \"react-ionicons\";\r\n\r\nconst CreateBtn=({onClick})=>(\r\n\t<button\r\n\t\tclassName=\"btn btn-primary btn-block d-flex justify-content-center align-items-center\"\r\n\t\tonClick={(e)=>{onClick()}}\r\n\t>\r\n\t\t<Ionicon\r\n\t\t\tclassName=\"rounded-circle\"\r\n\t\t\tfontSize=\"30px\"\r\n\t\t\tcolor=\"#fff\"\r\n\t\t\ticon=\"ios-add-circle\"\r\n\t\t/>\r\n\t\t创建一条新的记账记录\r\n\t</button>\r\n);\r\n\r\nCreateBtn.propTypes={\r\n    onClick:PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CreateBtn","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport class Tabs extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\tactiveIndex:props.activeIndex,\r\n\t\t}\r\n\t}\r\n\ttabChange=(event,index)=>{\r\n\t    event.preventDefault();\r\n\t    this.setState({\r\n\t\t\tactiveIndex:index,\r\n\t\t});\r\n\t\tthis.props.onTabChange(index);\r\n\t};\r\n\tactiveClassName=(activeIndex,index)=>{\r\n\t\treturn (activeIndex===index)?'nav-link active':'nav-link';\r\n\t};\r\n\trender(){\r\n\t\tconst {children}=this.props;\r\n\t\tconst activeIndex=this.state.activeIndex;\r\n\t\treturn (\r\n\t\t\t<ul className=\"nav nav-tabs nav-fill my-4\">\r\n\t\t\t\t{React.Children.map(children,(child,index)=>{\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tonClick={(event)=>{this.tabChange(event,index)}}\r\n\t\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\t\tclassName={this.activeClassName(activeIndex,index)}\r\n\t\t\t\t\t\t\t\trole=\"button\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{child}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)\r\n\t\t\t\t})}\r\n\t\t\t</ul>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport const Tab=({children})=>\r\n\t<React.Fragment>{children}</React.Fragment>\r\n\r\nTabs.propTypes={\r\n\tactiveIndex:PropTypes.number.isRequired,\r\n\tonTabChange:PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport Ionicon from 'react-ionicons';\r\n\r\nconst Loader=()=>(\r\n\t<div className=\"loading-com text-center\">\r\n\t\t<Ionicon\r\n\t\t\ticon=\"ios-refresh\"\r\n\t\t\tfontSize=\"40px\"\r\n\t\t\tcolor=\"#347eff\"\r\n\t\t\trotate={true}\r\n\t\t/>\r\n\t\t<h5>加载中</h5>\r\n\t</div>\r\n);\r\n\r\nexport default Loader","import React from 'react';\r\nimport Ionicon from 'react-ionicons';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport withContext from '../WithContext'\r\nimport PropTypes from 'prop-types';\r\nimport PieChart from '../Components/PieChart'\r\n\r\nimport PriceList from '../Components/PriceList';\r\nimport TotalPrice from '../Components/TotalPrice'\r\nimport MonthPicker from '../Components/MonthPicker'\r\nimport CreateBtn from '../Components/CreateBtn'\r\nimport {Tabs,Tab} from  '../Components/Tabs'\r\nimport Loader from '../Components/Loader'\r\n\r\nimport {LIST_VIEW,CHART_VIEW,TYPE_INCOME,TYPE_OUTCOME,Colors} from \"../utility\";\r\n\r\n\r\nconst tabsText=[LIST_VIEW,CHART_VIEW];\r\n\r\nconst generateChartDataByGategory=(items,type)=>{\r\n\tlet categoryMap={};\r\n\titems.filter(item=>item.category.type===type).forEach(item=>{\r\n\t\tif (categoryMap[item.cid]){\r\n\t\t\tcategoryMap[item.cid].value+=(item.price*1);\r\n\t\t\tcategoryMap[item.cid].items.push(item.id);\r\n\t\t} else {\r\n\t\t\tcategoryMap[item.cid]={\r\n\t\t\t\tname:item.category.name,\r\n\t\t\t\tvalue:item.price*1,\r\n\t\t\t\titems:[item.id]\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\treturn Object.keys(categoryMap).map(mapKey=>{\r\n\t\treturn {...categoryMap[mapKey]};\r\n\t});\r\n};\r\n\r\nclass Home extends React.Component{\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\ttabView:tabsText[0],\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.props.actions.getInitalData();\r\n\t}\r\n\tchangeView=(index)=>{\r\n        this.setState({\r\n\t\t\ttabView:tabsText[index],\r\n\t\t})\r\n\t};\r\n\tchangeDate=(year,month)=>{\r\n        this.props.actions.selectNewDate(year,month);\r\n\t};\r\n\tmodifyItem=(modifiedItem)=>{\r\n        this.props.history.push(`/edit/${modifiedItem.id}`)\r\n\t};\r\n\tcreateItem=()=>{\r\n        this.props.history.push('/create');\r\n\t};\r\n\tdeleteItem=(deletedItem)=>{\r\n        this.props.actions.deleteItem(deletedItem);\r\n\t};\r\n\trender(){\r\n\t\tconst {data} = this.props;\r\n\t\tconst {items,categories,currentDate,isLoading}=data;\r\n\t\tconst {tabView}=this.state;\r\n\t\tconst itemsWithCategory=Object.keys(items).map(id=>{\r\n\t\t\titems[id].category=categories[items[id].cid];\r\n\t\t\treturn items[id];\r\n\t\t});\r\n\t\tconst chartOutcomeDataByCategory=generateChartDataByGategory(itemsWithCategory,TYPE_OUTCOME);\r\n\t\tconst chartIncomeDataByCategory=generateChartDataByGategory(itemsWithCategory,TYPE_INCOME);\r\n\t\tconst tabIndex=tabsText.findIndex(tabText=>tabText===tabView);\r\n\t\tlet totalIncome=0,totalOutcome=0;\r\n\t\titemsWithCategory.forEach(item=>{\r\n\t\t\tif (item.category.type===TYPE_OUTCOME){\r\n\t\t\t\ttotalOutcome+=item.price;\r\n\t\t\t}else {\r\n\t\t\t\ttotalIncome+=item.price;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<div className='create-page rounded'>\r\n\t\t\t\t<header className=\"header\">\r\n\t\t\t\t\t<div className=\"row py-4\" style={{background:'#aaa'}}>\r\n\t\t\t\t\t\t<Ionicon\r\n\t\t\t\t\t\t\tclassName=\"col\"\r\n\t\t\t\t\t\t\ticon='ios-ionic'\r\n\t\t\t\t\t\t\tcolor={'#fff'}\r\n\t\t\t\t\t\t\tfontSize=\"100px\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row py-3\" style={{background:'#aaa'}}>\r\n\t\t\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t\t\t<MonthPicker\r\n\t\t\t\t\t\t\t\tyear={currentDate.year}\r\n\t\t\t\t\t\t\t\tmonth={currentDate.month}\r\n\t\t\t\t\t\t\t\tonChange={this.changeDate}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-3\">\r\n\t\t\t\t\t\t\t<TotalPrice\r\n\t\t\t\t\t\t\t\tincome={totalIncome}\r\n\t\t\t\t\t\t\t\toutcome={totalOutcome}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</header>\r\n\t\t\t\t<div className=\"content-area\">\r\n\t\t\t\t\t<Tabs activeIndex={tabIndex} onTabChange={this.changeView}>\r\n\t\t\t\t\t\t<Tab>\r\n\t\t\t\t\t\t\t<Ionicon\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-circle mr-2\"\r\n\t\t\t\t\t\t\t\tfontSize=\"30px\"\r\n\t\t\t\t\t\t\t\tcolor={'#007bff'}\r\n\t\t\t\t\t\t\t\ticon='ios-paper'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t列表模式\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t\t<Tab>\r\n\t\t\t\t\t\t\t<Ionicon\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-circle mr-2\"\r\n\t\t\t\t\t\t\t\tfontSize=\"30px\"\r\n\t\t\t\t\t\t\t\tcolor={'#007bff'}\r\n\t\t\t\t\t\t\t\ticon='ios-pie'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t图表模式\r\n\t\t\t\t\t\t</Tab>\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t<CreateBtn onClick={this.createItem}/>\r\n\t\t\t\t\t{isLoading &&\r\n\t\t\t\t\t\t<Loader/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{\titemsWithCategory.length===0 && !isLoading &&\r\n\t\t\t\t\t\t<div className=\"small mt-3\">你还没有任何记账记录</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{tabView === LIST_VIEW &&\r\n\t\t\t\t\t<PriceList\r\n\t\t\t\t\t\tonModifyItem={this.modifyItem}\r\n\t\t\t\t\t\titems={itemsWithCategory}\r\n\t\t\t\t\t\tonDeleteItem={this.deleteItem}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{tabView === CHART_VIEW &&\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<PieChart title=\"本月支出\" categoryData={chartOutcomeDataByCategory}/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t<PieChart title=\"本月收入\" categoryData={chartIncomeDataByCategory}/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nHome.propTypes = {\r\n\tdata: PropTypes.object.isRequired,\r\n\tactions: PropTypes.object.isRequired,\r\n\thistory: PropTypes.object,\r\n\tmatch: PropTypes.object,\r\n};\r\n\r\nexport default withRouter(withContext(Home));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Ionicon from 'react-ionicons';\r\n\r\nclass CategorySelect extends React.Component{\r\n\tselectCategory=(event,category)=>{\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.onSelectCategory(category);\r\n\t};\r\n\trender() {\r\n\t\tconst {categories,selectedCategory}=this.props;\r\n\t\tconst selectedCategoryId=selectedCategory && (selectedCategory.id);\r\n\t\treturn (\r\n\t\t\t<div className=\"category-select-com\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t{categories.map((category,index) => {\r\n\t\t\t\t\t\tconst backColor=(selectedCategoryId === category.id)?'#007bff':'#ccc';\r\n\t\t\t\t\t\tconst activeClassName = (selectedCategoryId === category.id) ?\r\n\t\t\t\t\t\t\t'category-item col-2 active' : 'category-item col-2';\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclassName={activeClassName}\r\n\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\t\tstyle={{textDecoration:'none'}}\r\n\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\t this.selectCategory(event, category)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Ionicon\r\n\t\t\t\t\t\t\t\t\tclassName=\"rounded-circle\"\r\n\t\t\t\t\t\t\t\t\tfontSize=\"50px\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"#fff\"\r\n\t\t\t\t\t\t\t\t\ticon={category.iconName}\r\n\t\t\t\t\t\t\t\t\tstyle={{backgroundColor:backColor,padding:'8px'}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<p style={{color:backColor}}>{category.name}</p>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCategorySelect.propTypes={\r\n\tcategories:PropTypes.array.isRequired,\r\n\tonSelectCategory:PropTypes.func.isRequired,\r\n\tselectedCategory:PropTypes.object,\r\n};\r\n\r\n\r\nexport default CategorySelect","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {isValidDate} from '../utility'\r\n\r\nclass PriceForm extends React.Component{\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\tvalidatePass:true,\r\n\t\t\terrorMessage:'',\r\n\t\t};\r\n\t}\r\n\tsubmitForm=(event)=>{\r\n\t    const {item,onFormSubmit}=this.props;\r\n\t    const editMode=!!item;\r\n\r\n\t    const price=this.priceInput.value.trim()*1;\r\n\t    const title=this.titleInput.value.trim();\r\n\t    const date=this.dateInput.value.trim();\r\n\t    if (price && date && title){\r\n\t    \tif (price<0){\r\n\t    \t\tthis.setState({\r\n\t\t\t\t\tvalidatePass:false,\r\n\t\t\t\t\terrorMessage:'金额数字必须大于0'\r\n\t\t\t\t})\r\n\t\t\t} else if (!isValidDate(date)){\r\n\t    \t\tthis.setState({\r\n\t\t\t\t\tvalidatePass:false,\r\n\t\t\t\t\terrorMessage:'请填写正确的日期格式'\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t    \t\tthis.setState({\r\n\t\t\t\t\tvalidatePass:true,\r\n\t\t\t\t\terrorMessage:'',\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tconsole.log(title,editMode);\r\n\t\t\tif (editMode){\r\n\t    \t\tonFormSubmit({...item,title,price,date},editMode)\r\n\t\t\t} else {\r\n\t\t\t\tonFormSubmit({title,price,date},editMode)\r\n\t\t\t}\r\n\t\t}else {\r\n\t    \tthis.setState({\r\n\t\t\t\tvalidatePass:false,\r\n\t\t\t\terrorMessage:'请输入所有必选项'\r\n\t\t\t})\r\n\t\t}\r\n\t\tevent.preventDefault();\r\n\t};\r\n\trender() {\r\n\t\tconst {title,price,date}=(this.props.item)?this.props.item:{};\r\n\t\treturn (\r\n\t\t\t<form className=\"price-form-com p-0\" onSubmit={(event)=>{this.submitForm(event)}} noValidate>\r\n\t\t\t\t<div className=\"form-group text-left\">\r\n\t\t\t\t\t<label className=\"col-2 col-form-label px-0\" htmlFor=\"inputTitle\">标题：</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tid=\"inputTitle\"\r\n\t\t\t\t\t\tdefaultValue={title}\r\n\t\t\t\t\t\tref={(input)=>{this.titleInput=input}}\r\n\t\t\t\t\t\tplaceholder=\"请输入标题\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group text-left\">\r\n\t\t\t\t\t<label className=\"col-2 col-form-label px-0\" htmlFor=\"inputPrice\">金额：</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tdefaultValue={price}\r\n\t\t\t\t\t\tid=\"inputPrice\"\r\n\t\t\t\t\t\tref={(input)=>{this.priceInput=input}}\r\n\t\t\t\t\t\tplaceholder=\"请输入金额\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group text-left\">\r\n\t\t\t\t\t<label className=\"col-2 col-form-label px-0\" htmlFor=\"inputDate\">日期：</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\tid=\"inputDate\"\r\n\t\t\t\t\t\tdefaultValue={date}\r\n\t\t\t\t\t\tref={(input)=>{this.dateInput=input}}\r\n\t\t\t\t\t\tplaceholder=\"请输入日期\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row mt-4\">\r\n\t\t\t\t\t<div className=\"col-2 text-left pr-0\">\r\n\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary\">\r\n\t\t\t\t\t\t\t提交\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-2 text-left pl-0\">\r\n\t\t\t\t\t\t<button className=\"btn btn-secondary\"\r\n\t\t\t\t\t\t\t\tonClick={this.props.onCancelSubmit}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t取消\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{ !this.state.validatePass &&\r\n\t\t\t\t\t\t<div className=\"alert alert-danger mt-5\" role=\"alert\">\r\n\t\t\t\t\t\t\t{this.state.errorMessage}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nPriceForm.propTypes={\r\n\tonFormSubmit:PropTypes.func.isRequired,\r\n\tonCancelSubmit:PropTypes.func.isRequired,\r\n};\r\n\r\nexport default PriceForm","import React from 'react';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport CategorySelect from '../Components/CategorySelect'\r\nimport PriceForm from '../Components/PriceForm'\r\nimport {Tabs,Tab} from  '../Components/Tabs'\r\nimport withContext from \"../WithContext\";\r\n\r\nimport {TYPE_INCOME, TYPE_OUTCOME} from \"../utility\";\r\n\r\n\r\nconst tabsText=[TYPE_OUTCOME,TYPE_INCOME];\r\n\r\nclass Create extends React.Component{\r\n    constructor(props){\r\n    \tsuper(props);\r\n    \tthis.state={\r\n    \t\tselectedTab:TYPE_OUTCOME,\r\n\t\t\tselectedCategory:null,\r\n\t\t\teditItem:{},\r\n\t\t\tvalidePass:true,\r\n\t\t\terrorMessage:'',\r\n\t\t};\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst {id}=this.props.match.params;\r\n\t\tthis.props.actions.getEditData(id).then(data=>{\r\n\t\t\tconst {editItem,categories}=data;\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedTab: (id && editItem) ? categories[editItem.cid].type : TYPE_OUTCOME,\r\n\t\t\t\tselectedCategory: (id && editItem) ? categories[editItem.cid] : null,\r\n\t\t\t\teditItem:editItem\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\ttabChange=(index)=>{\r\n    \tthis.setState({\r\n\t\t\tselectedTab:tabsText[index],\r\n\t\t})\r\n\t};\r\n    cancelSubmit=()=>{\r\n\t\tthis.props.history.push('/');\r\n\t};\r\n\tformSubmit=(data,isEditMode)=>{\r\n\t    if(!isEditMode){\r\n\t    \tif (this.state.selectedCategory===null){\r\n\t    \t\tthis.setState({\r\n\t\t\t\t\tvalidePass:false,\r\n\t\t\t\t\terrorMessage:'请选择账目类型',\r\n\t\t\t\t})\r\n\t\t\t}else {\r\n\t\t\t\tthis.props.actions.createItem(data,this.state.selectedCategory.id);\r\n\t\t\t\tthis.props.history.push('/');\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t}\r\n\t\t}else{\r\n\t    \tthis.props.actions.updateItem(data,this.state.selectedCategory.id);\r\n\t\t\tthis.props.history.push('/');\r\n\t\t}\r\n\t};\r\n\tselectCategory=(category)=>{\r\n\t\tthis.setState({\r\n\t\t\tselectedCategory:category,\r\n\t\t})\r\n\t};\r\n\trender() {\r\n\t\tconst {data} = this.props;\r\n\t\tconst {items, categories}=data;\r\n\t\tconst {id}=this.props.match.params;\r\n\t\tconst editItem=(id && items[id])?items[id]:this.state.editItem;\r\n\t\tconst activeIndex=tabsText.findIndex(text=>text===this.state.selectedTab);\r\n\t\tconst filterCategories=Object.keys(categories).filter(id=>categories[id].type===this.state.selectedTab)\r\n\t\t\t.map(id=>categories[id]);\r\n\t\treturn(\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"create-page rounded\"\r\n\t\t\t\tstyle={{background: '#fff'}}\r\n\t\t\t>\r\n\t\t\t\t<Tabs activeIndex={activeIndex} onTabChange={this.tabChange}>\r\n\t\t\t\t\t<Tab>支出</Tab>\r\n\t\t\t\t\t<Tab>收入</Tab>\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t<CategorySelect\r\n\t\t\t\t\tcategories={filterCategories}\r\n\t\t\t\t\tonSelectCategory={this.selectCategory}\r\n\t\t\t\t\tselectedCategory={this.state.selectedCategory}\r\n\t\t\t\t/>\r\n\t\t\t\t<PriceForm\r\n\t\t\t\t\tonFormSubmit={this.formSubmit}\r\n\t\t\t\t\tonCancelSubmit={this.cancelSubmit}\r\n\t\t\t\t\titem={editItem}\r\n\t\t\t\t/>\r\n\t\t\t\t{ !this.state.validePass &&\r\n\t\t\t\t<div className=\"alert alert-danger mt-5\" role=\"alert\">\r\n\t\t\t\t\t{this.state.errorMessage}\r\n\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nCreate.propTypes = {\r\n\tdata: PropTypes.object.isRequired,\r\n\tactions: PropTypes.object.isRequired,\r\n\thistory: PropTypes.object,\r\n\tmatch: PropTypes.object,\r\n};\r\n\r\nexport default withRouter(withContext(Create));","import React, { Component } from 'react';\nimport {BrowserRouter as Router,Route,Link} from \"react-router-dom\";\nimport './App.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {flatternArr,parseToYearAndMonth,calculateID} from \"./utility\";\nimport axios from 'axios'\n\n\nimport Home from './Containers/Home'\nimport Create from './Containers/Create'\n\nexport const AppContext=React.createContext();\n\nclass App extends Component {\n  constructor(props){\n      super(props);\n      this.state={\n          items:{},\n          categories:{},\n\t\t  isLoading:false,\n          currentDate:parseToYearAndMonth(),\n      };\n      const withLoading=(cb)=>{\n      \treturn (...args)=>{\n\t\t\tthis.setState({\n\t\t\t\tisLoading:true\n\t\t\t});\n\t\t\treturn cb(...args);\n\t\t};\n\t  };\n\n      this.actions={\n      \t  getInitalData:withLoading(()=>{\n      \t  \t  const {currentDate}=this.state;\n      \t  \t  const getURLWithDate=`/items?monthCategory=${currentDate.year}-${currentDate.month}&_sort=timestamp&_order=desc`;\n      \t  \t  const promiseArr=[axios.get('/categories'),axios.get(getURLWithDate)];\n      \t  \t  Promise.all(promiseArr).then(arr=>{\n      \t  \t  \tconst [categories,items]=arr;\n      \t  \t  \tthis.setState({\n\t\t\t\t\titems:flatternArr(items.data),\n\t\t\t\t\tcategories:flatternArr(categories.data),\n\t\t\t\t\tisLoading:false\n\t\t\t\t})\n\t\t\t  });\n\t\t  }),\n\t\t  getEditData:withLoading( async (id)=>{\n\t\t  \t  const {items,categories} =this.state;\n\t\t  \t  let promiseArr=[];\n\t\t  \t  if (Object.keys(categories).length===0){\n\t\t\t\t  promiseArr.push(axios.get('/categories'));\n\t\t\t  }\n\t\t  \t  const itemAlreadyFetched=Object.keys(items).indexOf(id)>-1;\n\t\t  \t  if (id && !itemAlreadyFetched) {\n\t\t\t\t  const getURLWithID=`/items/${id}`;\n                  promiseArr.push(axios.get(getURLWithID));\n\t\t\t  }\n\t\t  \t  const [fetchedCategories,editItem]=await Promise.all(promiseArr);\n\t\t\t  const finalCategories=fetchedCategories?flatternArr(fetchedCategories.data):categories;\n\t\t\t  const finalItem=editItem?editItem.data:items[id];\n\t\t\t  this.setState({\n\t\t\t\t  categories:finalCategories,\n\t\t\t\t  isLoading: false,\n\t\t\t  });\n\t\t  \t  return {\n\t\t  \t  \tcategories:finalCategories,\n\t\t\t\teditItem:finalItem\n\t\t\t  }\n\t\t  }),\n          deleteItem:withLoading((item)=>{\n      \t  \t  axios.delete(`/items/${item.id}`).then(()=>{\n\t\t\t\t  delete this.state.items[item.id];\n\t\t\t\t  this.setState({\n\t\t\t\t\t  items:this.state.items,\n\t\t\t\t\t  isLoading:false\n\t\t\t\t  })\n\t\t\t  });\n          }),\n          createItem:(data,categoryId)=>{\n          \t  const newId=calculateID();\n          \t  const parsedDate=parseToYearAndMonth(data.date);\n          \t  data.monthCategory=`${parsedDate.year}-${parsedDate.month}`;\n          \t  data.timestamp=new Date(data.date).getTime();\n          \t  const newItem={...data, id:newId, cid:categoryId,};\n\n          \t  axios.post(`/items`,newItem);\n          \t  this.actions.selectNewDate(parsedDate.year,parsedDate.month);\n          },\n\t\t  selectNewDate:withLoading((year,month)=>{\n\t\t\t  const getURLWithDate=`/items?monthCategory=${year}-${month}&_sort=timestamp&_order=desc`;\n              axios.get(getURLWithDate).then(items=>{\n              \tthis.setState({\n\t\t\t\t\titems:flatternArr(items.data),\n\t\t\t\t\tcurrentDate:{year,month},\n\t\t\t\t\tisLoading:false\n\t\t\t\t})\n\t\t\t  });\n\t\t  }),\n\t\t  updateItem:(item, updatedCategoryId)=>{\n          \t  const modifiedItem={\n          \t  \t  ...item,\n\t\t\t\t  cid: updatedCategoryId,\n\t\t\t\t  timestamp:new Date(item.date).getTime(),\n\t\t\t  };\n          \t  axios.patch(`/items/${item.id}`,modifiedItem);\n\n\t\t\t  const parsedDate=parseToYearAndMonth(item.date);\n\t\t\t  this.actions.selectNewDate(parsedDate.year,parsedDate.month);\n\t      },\n      }\n  }\n    render() {\n    return (\n        <AppContext.Provider value={{\n            state:this.state,\n            actions:this.actions,\n        }}>\n        <Router>\n            <div className=\"container px-3 pb-3\">\n                <div className=\"App\">\n                    <Route path=\"/\" exact component={Home}/>\n                    <Route path=\"/create\" component={Create}/>\n                    <Route path=\"/edit/:id\" component={Create}/>\n                </div>\n            </div>\n        </Router>\n        </AppContext.Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport axios from 'axios'\n\naxios.get('/items').then((response)=>{\n\t//console.log(response)\n});\n\nconst newItem={\n\t\"title\": \"超市买水果\",\n\t\"price\": 100,\n\t\"date\": \"2018-12-04\",\n\t\"timestamp\": 1543881600000,\n\t\"id\": \"_j0z9no9oj\",\n\t\"cid\": \"4\"\n};\n\naxios.post('/items',newItem).then((response)=>{\n\t//console.log(response);\n});\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}